
# SuperAuth Environment Variables Template
# Copy this file to .env and fill in your actual values

# ===== Application Configuration =====
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS=https://localhost:7001;http://localhost:5001
SUPERAUTH_MODE=monolith
# Options: monolith, microservices, hybrid

# ===== Database Configuration =====
DATABASE_TYPE=postgresql
# Options: postgresql, sqlserver, mysql

# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=superauth_dev
POSTGRES_USER=superauth
POSTGRES_PASSWORD=your_postgres_password_here
POSTGRES_SSL_MODE=prefer

# Connection String (auto-generated from above or override)
CONNECTION_STRING=Host=${POSTGRES_HOST};Port=${POSTGRES_PORT};Database=${POSTGRES_DB};Username=${POSTGRES_USER};Password=${POSTGRES_PASSWORD};SSL Mode=${POSTGRES_SSL_MODE}

# ===== Redis Configuration =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_SSL=false
REDIS_CONNECTION_STRING=localhost:6379

# ===== Qdrant Vector Database =====
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_USE_GRPC=false
QDRANT_CONNECTION_STRING=http://localhost:6333

# ===== JWT Configuration =====
JWT_SECRET_KEY=your_super_secret_jwt_key_here_minimum_32_chars
JWT_ISSUER=SuperAuth
JWT_AUDIENCE=SuperAuth.API
JWT_EXPIRY_MINUTES=60
JWT_REFRESH_EXPIRY_DAYS=7

# ===== Encryption Keys =====
ENCRYPTION_KEY=your_32_character_encryption_key_here
ENCRYPTION_SALT=your_16_char_salt_here

# ===== Email Configuration =====
EMAIL_PROVIDER=sendgrid
# Options: sendgrid, smtp, ses

# SendGrid
SENDGRID_API_KEY=your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=SuperAuth

# SMTP (alternative)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_USE_SSL=true

# ===== SMS Configuration =====
SMS_PROVIDER=twilio
# Options: twilio, aws_sns

# Twilio
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ===== OAuth Providers =====
# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret
MICROSOFT_TENANT_ID=your_microsoft_tenant_id

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# ===== Azure Services =====
AZURE_TENANT_ID=your_azure_tenant_id
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret

# Azure Key Vault
AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/
AZURE_KEY_VAULT_CLIENT_ID=${AZURE_CLIENT_ID}
AZURE_KEY_VAULT_CLIENT_SECRET=${AZURE_CLIENT_SECRET}

# Azure Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING=your_app_insights_connection_string

# Azure Storage
AZURE_STORAGE_CONNECTION_STRING=your_azure_storage_connection_string
AZURE_STORAGE_CONTAINER_NAME=superauth-files

# ===== Machine Learning Configuration =====
ML_MODEL_PATH=/app/models
ML_ENABLE_GPU=false
ML_THREAT_DETECTION_MODEL=threat_detection_v1.onnx
ML_BEHAVIOR_ANALYSIS_MODEL=behavior_analysis_v1.onnx

# ===== Logging Configuration =====
LOG_LEVEL=Information
# Options: Trace, Debug, Information, Warning, Error, Critical

SERILOG_MINIMUM_LEVEL=Information
SERILOG_WRITE_TO_CONSOLE=true
SERILOG_WRITE_TO_FILE=true
SERILOG_FILE_PATH=logs/superauth-.log

# Elasticsearch (optional)
ELASTICSEARCH_URL=https://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your_elasticsearch_password
ELASTICSEARCH_INDEX=superauth-logs

# ===== Monitoring & Observability =====
# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=SuperAuth.API
OTEL_SERVICE_VERSION=1.0.0

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=your_grafana_api_key

# ===== Message Queue =====
MESSAGE_QUEUE_PROVIDER=inmemory
# Options: inmemory, rabbitmq, azure_servicebus, aws_sqs

# RabbitMQ
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=superauth
RABBITMQ_PASSWORD=your_rabbitmq_password
RABBITMQ_VIRTUAL_HOST=/
RABBITMQ_CONNECTION_STRING=amqp://${RABBITMQ_USERNAME}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/${RABBITMQ_VIRTUAL_HOST}

# Azure Service Bus
AZURE_SERVICE_BUS_CONNECTION_STRING=your_azure_servicebus_connection_string

# ===== Security Configuration =====
# CORS
CORS_ALLOWED_ORIGINS=https://localhost:4200,https://localhost:4201
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# IP Whitelisting (comma-separated)
IP_WHITELIST=127.0.0.1,::1

# ===== Feature Flags =====
FEATURE_ML_THREAT_DETECTION=true
FEATURE_ADAPTIVE_MFA=true
FEATURE_BEHAVIORAL_ANALYTICS=true
FEATURE_GEO_BLOCKING=false
FEATURE_DEVICE_FINGERPRINTING=true

# ===== Performance Configuration =====
# Connection Pooling
DB_CONNECTION_POOL_MAX_SIZE=100
DB_CONNECTION_POOL_MIN_SIZE=5

# Caching
CACHE_SLIDING_EXPIRATION_MINUTES=30
CACHE_ABSOLUTE_EXPIRATION_HOURS=24

# ===== Development Tools =====
# Swagger/OpenAPI
SWAGGER_ENABLED=true
SWAGGER_ROUTE_PREFIX=api-docs

# Health Checks
HEALTH_CHECKS_UI_ENABLED=true
HEALTH_CHECKS_UI_PATH=/health-ui

# ===== Docker Configuration =====
DOCKER_REGISTRY=your-registry.azurecr.io
DOCKER_IMAGE_TAG=latest
DOCKER_COMPOSE_PROJECT_NAME=superauth

# ===== Kubernetes Configuration =====
K8S_NAMESPACE=superauth
K8S_CONFIG_MAP_NAME=superauth-config
K8S_SECRET_NAME=superauth-secrets

# ===== CI/CD Configuration =====
BUILD_NUMBER=
GIT_COMMIT_SHA=
GIT_BRANCH=
DEPLOYMENT_ENVIRONMENT=development

# ===== External API Keys =====
# MaxMind GeoIP
MAXMIND_LICENSE_KEY=your_maxmind_license_key

# reCAPTCHA
RECAPTCHA_SITE_KEY=your_recaptcha_site_key
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key

# ===== Backup Configuration =====
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_TYPE=azure_blob
# Options: local, azure_blob, aws_s3, gcp_storage

# ===== Load Testing =====
LOAD_TEST_ENABLED=false
LOAD_TEST_DURATION_MINUTES=5
LOAD_TEST_CONCURRENT_USERS=100

# ===== Security Scanning =====
SECURITY_SCAN_ENABLED=true
VULNERABILITY_SCAN_SCHEDULE=0 3 * * 0  # Weekly on Sunday at 3 AM

# ===== Multi-Tenant Configuration =====
MULTI_TENANT_ENABLED=false
DEFAULT_TENANT_ID=default
TENANT_ISOLATION_LEVEL=database
# Options: shared, database, schema

# ===== Compliance =====
GDPR_COMPLIANCE_ENABLED=true
DATA_RETENTION_YEARS=7
AUDIT_LOG_RETENTION_YEARS=10